{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","email","to","linkPath","onClick","e","preventDefault","onSignOut","buttonTitle","CurrentUserContext","react","createContext","Card","currentUser","React","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","name","onCardDelete","link","onCardClick","onCardLike","length","Main","avatar","onEditAvatarClick","onEditProfileClick","about","onAddPlaceClick","cards","map","Footer","PopupWithForm","isOpen","onClose","onSubmit","id","title","children","buttonText","ImagePopup","api","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","this","then","_getResponseData","cardId","boolean","method","userName","userAbout","body","JSON","stringify","imageUrl","imageName","imageLink","console","log","all","getUserInfo","getInitialCards","Component","authorization","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","placeholder","required","value","minLength","maxLength","onChange","event","target","EditAvatarPopup","avatarInputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","onNewCard","ProtectedRoute","loggedIn","redirectTo","Login","setemail","password","setPassword","handleLogin","pattern","Register","setEmail","handleRegister","InfoTooltip","isSuccsess","BASE_URL","App","setCurrentUser","setCards","selectedCard","setSelectedCard","setLoggedIn","currenEmail","setcurrenEmail","history","useHistory","token","localStorage","getItem","JWT","Authorization","push","data","catch","err","getAllInfo","userInfo","cardArray","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isCardPopupOpen","setIsCardPopupOpen","isInfoTooltip","setInfoTooltip","isInfoTooltipSuccsess","setInfoTooltipSuccsess","closeAllPopups","path","Accept","setItem","finally","strict","Provider","setUserInfo","setAvatarImage","addNewCard","newCard","removeItem","item","changeLikeCardStatus","state","removeCard","newCardList","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f51dc9b8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c7581985.svg\";","import logo from \"../images/logo.svg\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport function Header(props) {\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    props.onSignOut();\r\n  };\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"logo\" src={logo} alt=\"Around The U.S. logo\" />\r\n      <div className=\"header__nav-container\">\r\n        <p className=\"header__email\">{props.email}</p>\r\n        <Link\r\n          className=\"header__link\"\r\n          to={props.linkPath ? props.linkPath : \"/signin\"}\r\n          onClick={props.email ? handleClick : null}\r\n        >\r\n          {props.buttonTitle}\r\n        </Link>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import react from \"react\";\r\n\r\nexport const CurrentUserContext = react.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport function Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  // Checking if the current user is the owner of the current card\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  // Creating a variable which you'll then set in `className` for the delete button\r\n  const cardDeleteButtonClassName = `element__delete ${\r\n    isOwn ? \" element__delete_visible\" : \"element__delete_hidden\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  // Check if the card was liked by the current user\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  // Create a variable which you then set in `className` for the like button\r\n  const cardLikeButtonClassName = `${\r\n    isLiked ? \"heart-button heart-button_active\" : \"heart-button\"\r\n  }`;\r\n\r\n  return (\r\n    <div className=\"element\">\r\n      <button\r\n        className={cardDeleteButtonClassName}\r\n        type=\"button\"\r\n        name=\"element-delete-button\"\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <img\r\n        className=\"element__img\"\r\n        src={`${props.card.link}`}\r\n        alt={`${props.card.name}`}\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"element__container\">\r\n        <h2 className=\"element__container-heading\">{`${props.card.name}`}</h2>\r\n        <div className=\"element__container-heartbutton\">\r\n          <button\r\n            className={cardLikeButtonClassName}\r\n            type=\"button\"\r\n            name=\"heart-button\"\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <p className=\"image-likes\">{`${props.card.likes.length}`}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Card } from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport function Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__container\">\r\n          <div className=\"profile__avatar-container\">\r\n            <img\r\n              src={`${currentUser.avatar}`}\r\n              className=\"profile__avatar\"\r\n              alt=\"Avatar that describe the user\"\r\n            />\r\n            <div\r\n              className=\"profile__avatar-overlay\"\r\n              onClick={props.onEditAvatarClick}\r\n            ></div>\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__info-heading-container\">\r\n              <h1 className=\"profile__info-heading\">{`${currentUser.name}`}</h1>\r\n              <button\r\n                type=\"button\"\r\n                className=\"profile__info-edit hover\"\r\n                onClick={props.onEditProfileClick}\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__info-description\">{`${currentUser.about}`}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button hover\"\r\n          onClick={props.onAddPlaceClick}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {props.cards.map((card) => {\r\n          return (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","export function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">Â© 2021 Around The U.S.</p>\r\n    </footer>\r\n  );\r\n}\r\n","export function PopupWithForm(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup-${props.name} ${\r\n        props.isOpen ? \"popup_open\" : \"\"\r\n      }`}\r\n    >\r\n      <div className={`popup-${props.name}__container`}>\r\n        <button\r\n          onClick={props.onClose}\r\n          className=\"popup__close hover\"\r\n          type=\"button\"\r\n        ></button>\r\n        <form onSubmit={props.onSubmit}\r\n          className=\"popup__form\"\r\n          name={`popup-${props.name}-form`}\r\n          id={`popup-${props.name}__form`}\r\n        >\r\n          <h2\r\n            className={`popup-${props.name}__form-heading`}\r\n          >{`${props.title}`}</h2>\r\n          {props.children}\r\n          <button className=\"popup__button\" type=\"submit\">\r\n            {props.buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export function ImagePopup(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup popup-image ${props.isOpen ? \"popup_open\" : \"\"}`}\r\n      // classNameName={`popup popup popup-image ${\r\n      //   props.card.name ? \"popup_open\" : \"\"\r\n      // }`}\r\n    >\r\n      <div className=\"popup-image__container\">\r\n        <button\r\n          onClick={props.onClose}\r\n          className=\"popup__close hover\"\r\n          type=\"button\"\r\n        ></button>\r\n        <img\r\n          className=\"popup-image__image\"\r\n          src={`${props.card.link}`}\r\n          alt={`${props.card.name}`}\r\n        />\r\n\r\n        <h2 className=\"popup-image__name\">{`${props.card.name}`}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nclass Api extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.baseUrl = props.baseUrl;\r\n    this.headers = props.headers;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      headers: this.headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      headers: this.headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, boolean) {\r\n    if (boolean) {\r\n      return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\r\n        method: \"PUT\",\r\n        headers: this.headers,\r\n      }).then((res) => this._getResponseData(res));\r\n    }\r\n    if (!boolean) {\r\n      return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\r\n        method: \"DELETE\",\r\n        headers: this.headers,\r\n      }).then((res) => this._getResponseData(res));\r\n    }\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this.headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  setUserInfo(userName, userAbout) {\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: userName,\r\n        about: userAbout,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  setAvatarImage(imageUrl) {\r\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        avatar: `${imageUrl}`,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  addNewCard(imageName, imageLink) {\r\n    console.log(imageName);\r\n    return fetch(`${this.baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this.headers,\r\n      body: JSON.stringify({\r\n        name: imageName,\r\n        link: imageLink,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  getAllInfo() {\r\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"http://localhost:3000\",\r\n  headers: {\r\n    authorization:\r\n      \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MWI5ZGM4MTdlMDg2NzNhYjg0ODRjMTciLCJpYXQiOjE2Mzk2NjM0MjIsImV4cCI6MTY0MDI2ODIyMn0.9SQ1ksIPovBuWnGwpggq3dd2nJUdR8mfEUA6FJ-okTQ\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// const api = new Api({\r\n//   baseUrl: \"https://around.nomoreparties.co/v1/group-12\",\r\n//   headers: {\r\n//     authorization: \"9d69919a-c5e6-499a-8de5-d578571e9e77\",\r\n//     \"Content-Type\": \"application/json\",\r\n//   },\r\n// });\r\nexport default api;\r\n","import React, { useState } from \"react\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport function EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = useState(currentUser.name);\r\n  const [description, setDescription] = useState(currentUser.about);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]); \r\n\r\n  function handleNameChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(event) {\r\n    setDescription(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Prevent the browser from navigating to the form address\r\n    e.preventDefault();\r\n    // Pass the values of the managed components to the external handler\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      title=\"Edit profile\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      buttonText=\"Save\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"popup-profile-profile-name-input\"\r\n        className=\"popup__input\"\r\n        id=\"popup-profile__form-input_name\"\r\n        type=\"text\"\r\n        placeholder=\"Jacques Cousteau\"\r\n        required\r\n        value={name || \"\"}\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        onChange={handleNameChange}\r\n      />\r\n      <span\r\n        id=\"popup-profile__form-input_name-error\"\r\n        className=\"popup__error\"\r\n      ></span>\r\n      <input\r\n        id=\"popup-profile__form-input_job\"\r\n        name=\"popup-profile-job-input\"\r\n        className=\"popup__input\"\r\n        type=\"text\"\r\n        placeholder=\"Explorer\"\r\n        required\r\n        value={description || \"\"}\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        onChange={handleDescriptionChange}\r\n      />\r\n      <span\r\n        id=\"popup-profile__form-input_job-error\"\r\n        className=\"popup__error\"\r\n      ></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React, { useRef } from \"react\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\n\r\nexport function EditAvatarPopup(props) {\r\n  const avatarInputRef = useRef(null);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar({\r\n      avatar: avatarInputRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"avataredit\"\r\n      title=\"Change profile picture\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      buttonText=\"Save\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"popup-avataredit-profile-link-input\"\r\n        className=\"popup__input\"\r\n        id=\"popup-avataredit__form-input_link\"\r\n        type=\"url\"\r\n        placeholder=\"Jacques Cousteau\"\r\n        required\r\n        minLength=\"2\"\r\n        ref={avatarInputRef}\r\n      />\r\n      <span\r\n        id=\"popup-avataredit__form-input_link-error\"\r\n        className=\"popup__error\"\r\n      ></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\n\r\nexport function AddPlacePopup(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n\r\n  function handleNameChange(event) {\r\n    setName(event.target.value);\r\n  }\r\n\r\n  function handleLinkChange(event) {\r\n    setLink(event.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Prevent the browser from navigating to the form address\r\n    e.preventDefault();\r\n    props.onNewCard({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(\"\");\r\n    setLink(\"\");\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"card\"\r\n      title=\"New place\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      buttonText=\"Create\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        name=\"popup-card-title-input\"\r\n        className=\"popup__input\"\r\n        id=\"popup-card__form-input_title\"\r\n        type=\"text\"\r\n        placeholder=\"Title\"\r\n        required\r\n        value={name || \"\"}\r\n        minLength=\"1\"\r\n        maxLength=\"30\"\r\n        onChange={handleNameChange}\r\n      />\r\n      <span\r\n        id=\"popup-card__form-input_title-error\"\r\n        className=\"popup__error\"\r\n      ></span>\r\n      <input\r\n        id=\"popup-card__form-input_imgurl\"\r\n        name=\"popup-card-imgurl-input\"\r\n        className=\"popup__input\"\r\n        type=\"url\"\r\n        value={link || \"\"}\r\n        placeholder=\"Image link\"\r\n        required\r\n        onChange={handleLinkChange}\r\n      />\r\n      <span\r\n        id=\"popup-card__form-input_imgurl-error\"\r\n        className=\"popup__error\"\r\n      ></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import { Route, Redirect } from \"react-router-dom\";\r\n\r\n/* takes a component as a prop, as well as any number of\r\nprops to pass down to that component */\r\nconst ProtectedRoute = (props) => {\r\n  return (\r\n    <Route>\r\n      {props.loggedIn ? props.children : <Redirect to={props.redirectTo} />}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport function Login(props) {\r\n  const [email, setemail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.handleLogin({email, password})\r\n  };\r\n  return (\r\n    <main className=\"main\">\r\n      <div className=\"login\">\r\n        <h1 className=\"login__welcome\">Log in</h1>\r\n        <form onSubmit={handleSubmit} className=\"login__form\">\r\n          <input\r\n            className=\"login__input\"\r\n            placeholder=\"Email\"\r\n            id=\"email\"\r\n            required\r\n            name=\"email\"\r\n            type=\"email\"\r\n            pattern='[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$'\r\n            value={email}\r\n            onChange={(e) => setemail(e.target.value)}\r\n          />\r\n          <input\r\n            className=\"login__input\"\r\n            placeholder=\"Password\"\r\n            id=\"password\"\r\n            required\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <div className=\"login__button-container\">\r\n            <button type=\"submit\" className=\"login__link\">\r\n            Log in\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <div className=\"login__signup\">\r\n          <p>Not a member yet?</p>\r\n          <Link to=\"/signup\" className=\"signup__link\">\r\n          Sign up here! \r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport function Register(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    props.handleRegister({ email, password });\r\n  };\r\n  return (\r\n    <main className=\"main\">\r\n      <div className=\"register\">\r\n        <h1 className=\"register__welcome\">Sign up</h1>\r\n        <form onSubmit={handleSubmit} className=\"register__form\">\r\n          <input\r\n            className=\"register__input\"\r\n            placeholder=\"Email\"\r\n            id=\"email\"\r\n            required\r\n            name=\"email\"\r\n            type=\"email\"\r\n            pattern='[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$'\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <input\r\n            className=\"register__input\"\r\n            placeholder=\"Password\"\r\n            id=\"password\"\r\n            required\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <div className=\"register__button-container\">\r\n            <button type=\"submit\" className=\"register__button\">\r\n              Sign up\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <div className=\"register__signup\">\r\n          <p>Already a member? </p>\r\n          <Link to=\"/signin\" className=\"register__signup_link\">\r\n            Log in here!\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","export const InfoTooltip = (props) => {\r\n  return (\r\n    <div\r\n      className={`popup popup popup-image ${props.isOpen ? \"popup_open\" : \"\"}`}\r\n    >\r\n      <div className=\"InfoTooltip__container\">\r\n        <button\r\n          onClick={props.onClose}\r\n          className=\"popup__close hover\"\r\n          type=\"button\"\r\n        ></button>\r\n        <div\r\n          className={\r\n            props.isSuccsess ? \"InfoTooltip__success\" : \"InfoTooltip__unsuccess\"\r\n          }\r\n        ></div>\r\n        <h2 className=\"InfoTooltip__title\">\r\n          {props.isSuccsess\r\n            ? \"Success! You have now been registered.\"\r\n            : \"Oops, something went wrong! Please try again.\"}\r\n        </h2>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export const BASE_URL = \"http://localhost:3000\";\r\n\r\nconst _getResponseData = (res) => {\r\n  if (!res.ok) {\r\n    return Promise.reject(`Error: ${res.status}`);\r\n  }\r\n  return res.json();\r\n};\r\n\r\nexport const signup = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then((res) => _getResponseData(res));\r\n};\r\n\r\nexport const signin = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ password, email }),\r\n  }).then((res) => _getResponseData(res));\r\n};\r\n\r\nexport const checkToken = (JWT) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${JWT}`,\r\n    },\r\n  }).then((res) => _getResponseData(res));\r\n};\r\n","import \"../index.css\";\r\nimport { Header } from \"./Header\";\r\nimport { Main } from \"./Main\";\r\nimport { Footer } from \"./Footer\";\r\nimport { PopupWithForm } from \"./PopupWithForm\";\r\nimport { ImagePopup } from \"./ImagePopup\";\r\nimport React, { useState } from \"react\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport api from \"../utils/api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { EditProfilePopup } from \"./EditProfilePopup\";\r\nimport { EditAvatarPopup } from \"./EditAvatarPopup\";\r\nimport { AddPlacePopup } from \"./AddPlacePopup\";\r\nimport ProtectedRoute from \"./ProtectedRoute.js\";\r\nimport { Login } from \"./Login\";\r\nimport { Register } from \"./Register\";\r\nimport { InfoTooltip } from \"./InfoTooltip\";\r\nimport * as auth from \"../utils/auth.js\";\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [currenEmail, setcurrenEmail] = useState(\"\");\r\n  const history = useHistory();\r\n  const token = localStorage.getItem(\"jwt\");\r\n\r\n  React.useEffect(() => {\r\n    if (token) {\r\n      auth\r\n        .checkToken(token)\r\n        .then((res) => {\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            history.push(\"/\");\r\n            setcurrenEmail(res.data.email);\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getAllInfo()\r\n      .then(([userInfo, cardArray]) => {\r\n        setCurrentUser(userInfo.data);\r\n        setCards(cardArray);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isCardPopupOpen, setIsCardPopupOpen] = useState(false);\r\n  const [isInfoTooltip, setInfoTooltip] = useState(false);\r\n  const [isInfoTooltipSuccsess, setInfoTooltipSuccsess] = useState(false);\r\n\r\n  function handleCardLike(card) {\r\n    // Check one more time if this card was already liked\r\n    const isLiked = card.likes.some((item) => item._id === currentUser._id);\r\n    // Send a request to the API and getting the updated card data\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((item) => (item._id === card._id ? newCard : item))\r\n        );\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    // check one more time if the onwer of the image\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    if (isOwn) {\r\n      api\r\n        .removeCard(card._id)\r\n        .then(() => {\r\n          const newCardList = cards.filter((item) => !(item._id === card._id));\r\n          setCards(newCardList);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n\r\n  function handleAddPlaceSubmit(props) {\r\n    api\r\n      .addNewCard(props.name, props.link)\r\n      .then((newCard) => {\r\n        console.log(newCard);\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleUserRegister(props) {\r\n    auth\r\n      .signup(props.email, props.password)\r\n      .then(() => {\r\n        setInfoTooltipSuccsess(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setInfoTooltipSuccsess(false);\r\n      })\r\n      .finally(() => setInfoTooltip(true));\r\n  }\r\n\r\n  function onLogin(props) {\r\n    auth\r\n      .signin(props.password, props.email)\r\n      .then((res) => {\r\n        if (res.token) {\r\n          localStorage.setItem(\"jwt\", res.token);\r\n          setcurrenEmail(props.email);\r\n          setLoggedIn(true);\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function onSignOut(props) {\r\n    localStorage.removeItem(\"jwt\");\r\n    history.push(\"/signin\");\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsCardPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsCardPopupOpen(false);\r\n    setSelectedCard({});\r\n    setInfoTooltip(false);\r\n  }\r\n\r\n  function handleUpdateUser(props) {\r\n    api\r\n      .setUserInfo(props.name, props.about)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleAvatarUpdate(props) {\r\n    api\r\n      .setAvatarImage(props.avatar)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <div className=\"page__container\">\r\n        <InfoTooltip\r\n          isOpen={isInfoTooltip}\r\n          onClose={closeAllPopups}\r\n          isSuccsess={isInfoTooltipSuccsess}\r\n        />\r\n        <Switch>\r\n          <Route path=\"/signin\">\r\n            <Header buttonTitle=\"Sign Up\" linkPath=\"/signup\" />\r\n            <Login handleLogin={onLogin} />\r\n            <Footer />\r\n          </Route>\r\n\r\n          <Route path=\"/signup\">\r\n            <Header buttonTitle=\"Sign In\" linkPath=\"/signin\" />\r\n            <Register handleRegister={handleUserRegister} />\r\n            <Footer />\r\n          </Route>\r\n\r\n          <ProtectedRoute\r\n            strict\r\n            path=\"/\"\r\n            loggedIn={loggedIn}\r\n            redirectTo=\"/signin\"\r\n          >\r\n            <CurrentUserContext.Provider value={currentUser}>\r\n              <EditProfilePopup\r\n                isOpen={isEditProfilePopupOpen}\r\n                onClose={closeAllPopups}\r\n                onUpdateUser={handleUpdateUser}\r\n              ></EditProfilePopup>\r\n              <EditAvatarPopup\r\n                isOpen={isEditAvatarPopupOpen}\r\n                onClose={closeAllPopups}\r\n                onUpdateAvatar={handleAvatarUpdate}\r\n              />\r\n              <AddPlacePopup\r\n                isOpen={isAddPlacePopupOpen}\r\n                onClose={closeAllPopups}\r\n                onNewCard={handleAddPlaceSubmit}\r\n              ></AddPlacePopup>\r\n              <PopupWithForm\r\n                name=\"delete\"\r\n                title=\"Are you sure?\"\r\n                buttonText=\"Yes\"\r\n              ></PopupWithForm>\r\n              <ImagePopup\r\n                isOpen={isCardPopupOpen}\r\n                onClose={closeAllPopups}\r\n                card={selectedCard}\r\n              />\r\n              <Header\r\n                email={currenEmail}\r\n                buttonTitle=\"Sign out\"\r\n                onSignOut={onSignOut}\r\n              />\r\n              <Main\r\n                onEditProfileClick={handleEditProfileClick}\r\n                onAddPlaceClick={handleAddPlaceClick}\r\n                onEditAvatarClick={handleEditAvatarClick}\r\n                onCardClick={handleCardClick}\r\n                cards={cards}\r\n                onCardLike={handleCardLike}\r\n                onCardDelete={handleCardDelete}\r\n              ></Main>\r\n              <Footer />\r\n            </CurrentUserContext.Provider>\r\n          </ProtectedRoute>\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}